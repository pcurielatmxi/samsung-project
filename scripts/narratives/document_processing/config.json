{
  "input_dir": "${WINDOWS_DATA_DIR}/raw/narratives",
  "output_dir": "${WINDOWS_DATA_DIR}/processed/narratives",
  "file_extensions": [".pdf", ".docx", ".doc", ".xlsx", ".xls"],
  "concurrency": 3,

  "qc_batch_size": 5,
  "qc_failure_threshold": 0.15,
  "qc_min_samples": 5,

  "stages": [
    {
      "name": "extract",
      "type": "llm",
      "model": "gemini-3-flash-preview",
      "prompt_file": "extract_prompt.txt",
      "enhance_prompt_file": "extract_enhance_prompt.txt",
      "qc_prompt_file": "extract_qc_prompt.txt"
    },
    {
      "name": "format",
      "type": "llm",
      "model": "gemini-2.5-flash-lite",
      "prompt_file": "format_prompt.txt",
      "schema_file": "schema.json",
      "enhance_prompt_file": "format_enhance_prompt.txt",
      "qc_prompt_file": "format_qc_prompt.txt"
    },
    {
      "name": "locate",
      "type": "script",
      "script": "locate.py",
      "function": "process_record"
    }
  ]
}
